# Инструкция по добавлению проектов в портфолио

Условие 
## Обзор

Все проекты хранятся в файле `js/main.js` в массиве `projectsData`. HTML и CSS файлы не требуют изменений при добавлении новых проектов — всё автоматически подхватывается JavaScript.

---

## Шаг 1: Откройте файл `js/main.js`

Найдите массив `projectsData` (примерно на строке 62). Это массив объектов, где каждый объект представляет один проект.

---

## Шаг 2: Добавьте новый объект проекта

Добавьте новый объект в начало массива `projectsData` (чтобы новый проект отображался первым). Используйте следующий шаблон:

```javascript
{
    id: 11,  // Уникальный ID (используйте следующий по порядку)
    title: 'Название проекта',
    description: 'Краткое описание проекта (предпросмотр)',
    fullDescription: 'Полное описание проекта на русском языке',
    tasks: 'Описание задач проекта на русском языке',
    technologies: ['Технология1', 'Технология2', 'Технология3'],
    category: 'data-analysis',  // Категория проекта
    difficulty: 'intermediate',  // Уровень сложности (опционально, не отображается)
    date: '2025-11-15',  // Дата в формате YYYY-MM-DD
    image: 'https://ссылка-на-изображение.png',
    link: 'https://ссылка-на-проект',
    repo: 'https://ссылка-на-репозиторий'
}
```

---

## Шаг 3: Заполните обязательные поля

### Обязательные поля:

- **`id`** (число) — уникальный идентификатор проекта. Используйте следующий номер по порядку (11, 12, 13...)
- **`title`** (строка) — название проекта на английском
- **`description`** (строка) — краткое описание на английском (отображается в карточке проекта)
- **`fullDescription`** (строка) — полное описание на русском (отображается в модальном окне)
- **`tasks`** (строка) — описание задач проекта на русском
- **`technologies`** (массив строк) — список используемых технологий
- **`category`** (строка) — категория проекта (см. доступные категории ниже)
- **`date`** (строка) — дата в формате `YYYY-MM-DD` (например, `'2025-11-15'`)
- **`image`** (строка) — URL изображения проекта
- **`link`** (строка) — ссылка на проект (может быть ссылка на демо, файл или дашборд)
- **`repo`** (строка) — ссылка на репозиторий GitHub

### Опциональные поля:

- **`hours`** (число) — количество человеко-часов (например, `40`). Если указано, будет отображаться на карточке проекта и в модальном окне. Также учитывается в автоматическом расчете общего количества часов в бейдже секции "МОИ ПРОЕКТЫ"
- **`status`** (строка) — статус проекта: `'backlog'`, `'ongoing'`, `'done'`. Если не указано, по умолчанию используется `'done'`. Отображается на карточке проекта с цветовой индикацией
- **`results`** (массив строк) — список достигнутых результатов. Каждый элемент — строка с описанием результата. Пример:
  ```javascript
  results: [
      'Первый достигнутый результат',
      'Второй достигнутый результат',
      'Третий достигнутый результат'
  ]
  ```
- **`features`** (массив строк) — список ключевых особенностей проекта. Используется в модальном окне проекта в секции "Ключевые особенности"
- **`metrics`** (строка) — метрики успеха проекта. Отображается в модальном окне в секции "Метрики успеха". Если не указано, но указано поле `results`, будет автоматически сгенерировано сообщение на основе количества результатов
- **`difficulty`** (строка) — уровень сложности: `'beginner'`, `'intermediate'`, `'advanced'` (не отображается в интерфейсе)
- **`image`** (строка) — URL изображения проекта. Если пусто или не указано, изображение в модальном окне будет скрыто
- **`link`** (строка) — ссылка на проект. Если пусто или не указано, кнопка "Открыть проект" будет скрыта
- **`repo`** (строка) — ссылка на репозиторий GitHub. Если пусто или не указано, кнопка "Репозиторий" будет скрыта

---

## Шаг 4: Доступные категории

Используйте одну из следующих категорий:

- **`'data-analysis'`** — Анализ данных
- **`'visualization'`** — Визуализация
- **`'web'`** — Веб-разработка
- **`'computer-vision'`** — Компьютерное зрение
- **`'deep-learning'`** — Глубокое обучение

Категория автоматически отображается в модальном окне проекта на русском языке.

---

## Шаг 5: Пример полного проекта

```javascript
{
    id: 11,
    title: 'Machine Learning Model for Sales Prediction',
    description: 'Predictive analytics model using machine learning to forecast sales',
    fullDescription: 'Модель машинного обучения для прогнозирования продаж. Использует алгоритмы регрессии и временные ряды для предсказания будущих продаж на основе исторических данных.',
    tasks: 'Разработать модель машинного обучения для прогнозирования продаж. Обучить модель на исторических данных и оценить её точность.',
    technologies: ['Python', 'Scikit-learn', 'Pandas', 'NumPy', 'Matplotlib', 'Jupyter'],
    category: 'data-analysis',
    difficulty: 'advanced',
    date: '2025-11-20',
    image: 'https://raw.githubusercontent.com/KSP-Hub/your-repo/main/image.png',
    link: 'https://raw.githubusercontent.com/KSP-Hub/your-repo',
    repo: 'https://raw.githubusercontent.com/KSP-Hub/your-repo',
    hours: 60,
    results: [
        'Создана модель с точностью 85%',
        'Реализована автоматизация прогнозирования',
        'Подготовлен отчет с визуализацией результатов'
    ]
}
```

---

## Шаг 6: Проверка

После добавления проекта:

1. Сохраните файл `js/main.js`
2. Обновите страницу в браузере (F5 или Ctrl+R)
3. Проверьте, что проект отображается в списке
4. Откройте проект и убедитесь, что все данные отображаются корректно

---

## Важные замечания

### Порядок проектов
- Проекты отображаются в том порядке, в котором они находятся в массиве
- Новые проекты обычно добавляются в начало массива (чтобы они были первыми)

### ID проекта
- Каждый проект должен иметь уникальный `id`
- Используйте последовательные номера (11, 12, 13...)
- Не используйте одинаковые ID для разных проектов

### Формат даты
- Всегда используйте формат `'YYYY-MM-DD'` (например, `'2025-11-20'`)
- Дата отображается в формате, принятом в России (ДД.ММ.ГГГГ)

### Изображения
- Используйте прямые ссылки на изображения (URL должен заканчиваться на `.png`, `.jpg`, `.gif` и т.д.)
- Рекомендуется использовать GitHub Raw или другой CDN для хранения изображений
- Изображения автоматически загружаются с `loading="lazy"` для оптимизации
- Если поле `image` пусто или не указано, изображение в модальном окне будет скрыто (не будет отображаться пустое место)

### Технологии
- Технологии автоматически добавляются в фильтр
- На карточке проекта отображаются первые 3 технологии + количество остальных
- В модальном окне отображаются все технологии

### Человеко-часы
- Если указано поле `hours`, оно отображается на карточке проекта с иконкой часов
- Формат отображения: `40 ч`
- Если поле не указано, оно не отображается

### Достигнутые результаты
- Если указано поле `results` (массив), результаты отображаются в модальном окне
- Каждый результат отображается с зеленой галочкой
- Если поле не указано, секция результатов скрыта

### Статус проекта
- Если указано поле `status` (`'backlog'`, `'ongoing'`, `'done'`), статус отображается на карточке проекта с цветовой индикацией:
  - `'backlog'` — розовая рамка (#FFD1DC), отображается как "Backlog"
  - `'ongoing'` — желтая рамка (#E6D690), отображается как "Ongoing"
  - `'done'` — стандартная рамка (по умолчанию), отображается как "Done"
- Если поле не указано, используется статус `'done'` по умолчанию
- Статус также отображается в фильтрах проектов (третья группа фильтров)

### Ключевые особенности и метрики
- Если указано поле `features` (массив строк), особенности отображаются в модальном окне в секции "Ключевые особенности"
- Если указано поле `metrics` (строка), метрики отображаются в модальном окне в секции "Метрики успеха"
- Если поле `metrics` не указано, но указано поле `results`, будет автоматически сгенерировано сообщение на основе количества результатов
- Если ни `features`, ни `results`, ни `metrics` не указаны, соответствующие секции будут скрыты

### Пустые поля (image, link, repo)
- Если поле `image` пусто или не указано, изображение в модальном окне будет скрыто
- Если поле `link` пусто или не указано, кнопка "Открыть проект" будет скрыта
- Если поле `repo` пусто или не указано, кнопка "Репозиторий" будет скрыта
- Это позволяет создавать проекты без всех обязательных ссылок и изображений

### Счетчик просмотров
- Каждый проект автоматически получает счетчик просмотров
- Счетчик увеличивается при открытии модального окна проекта
- Счетчик сохраняется в `localStorage` и работает между сессиями
- Счетчик увеличивается только один раз за сессию для каждого проекта (используется `sessionStorage`)
- Счетчик отображается на карточке проекта с иконкой глаза и числом просмотров

---

## Новые возможности (2025-11-09)

### Обработка ошибок изображений
- Автоматическая обработка ошибок загрузки изображений
- Fallback placeholder при ошибке загрузки
- Поддержка GIF изображений

### Lazy loading изображений
- Автоматическая lazy loading для модальных изображений
- Использование Intersection Observer API
- Shimmer эффект для placeholder

### Конфигурационный файл
- Все настройки вынесены в `js/config.js`
- Централизованное управление конфигурацией
- Настройки аналитики, проектов, изображений, error tracking

### Error tracking
- Модуль отслеживания ошибок (`js/error-tracking.js`)
- Поддержка Sentry (опционально)
- Автоматическое логирование ошибок

### Автоматическое обновление sitemap.xml
- Скрипт `scripts/update-sitemap.js` для автоматического обновления дат
- Использование: `npm run update-sitemap` или `node scripts/update-sitemap.js`

### ESLint
- Конфигурация ESLint для проверки качества кода
- Использование: `npm run lint` или `npm run lint:fix`

## Структура файлов

```
Stanislav-Karamin-Portfolio/
├── index.html                          # HTML структура (требует изменений только при добавлении новых категорий)
├── css/
│   └── main.css                        # Стили (не требует изменений)
├── js/
│   ├── main.js                         # ⬅️ ЗДЕСЬ добавляете проекты (массив projectsData)
│   ├── config.js                       # Конфигурационный файл (настройки аналитики, проектов, изображений)
│   └── error-tracking.js               # Модуль отслеживания ошибок (поддержка Sentry)
├── scripts/
│   └── update-sitemap.js               # Скрипт для автоматического обновления sitemap.xml
├── sw.js                               # Service Worker (не требует изменений)
├── .eslintrc.js                        # Конфигурация ESLint для проверки качества кода
├── package.json                        # Метаданные проекта и npm скрипты
├── sitemap.xml                         # XML sitemap (обновляется автоматически через скрипт)
├── robots.txt                          # Robots.txt (не требует изменений)
├── README.md                           # Документация проекта
├── Changelog.md                        # История изменений
├── Предложения для улучшения проекта YYYY-MM-DD.md # Форма для сбора предложений
├── components/                         # HTML компоненты (для будущего использования)
│   ├── header.html                     # Компонент заголовка сайта
│   ├── footer.html                     # Компонент подвала сайта
│   └── consent-banner.html             # Компонент баннера согласия на аналитику
├── css/
│   ├── main.css                        # Основная таблица стилей (минифицированная)
│   └── components.css                  # Компонентные стили (новые улучшения)
└── Инструкция добавления проектов.md   # Эта инструкция
```

---

## Часто задаваемые вопросы

**Q: Нужно ли редактировать HTML или CSS?**  
A: Нет, всё автоматически генерируется JavaScript.

**Q: Как изменить порядок проектов?**  
A: Измените порядок объектов в массиве `projectsData` в файле `js/main.js`.

**Q: Можно ли использовать относительные пути для изображений?**  
A: Рекомендуется использовать абсолютные URL (например, через GitHub Raw). Относительные пути могут не работать в зависимости от структуры проекта.

**Q: Что делать, если изображение не загружается?**  
A: Проверьте URL изображения. Если изображение недоступно, будет показан placeholder.

**Q: Как добавить новую категорию?**  
A: Нужно:
1. Отредактировать объект `categoryMap` в функции `openProjectModal` в файле `js/main.js` (примерно строка 435)
2. Добавить новую категорию в фильтры в файле `index.html` (секция "МОИ ПРОЕКТЫ", первая группа фильтров)

**Q: Как работает счетчик просмотров?**  
A: Счетчик просмотров автоматически увеличивается при открытии модального окна проекта. Счетчик сохраняется в `localStorage` и работает между сессиями. Используется период охлаждения (1 минута) для предотвращения двойного подсчета при случайном двойном клике. Счетчик работает одинаково для светлой и темной темы.

**Q: Как работает автоматический расчет общего количества часов?**  
A: Общее количество часов автоматически рассчитывается как сумма всех полей `hours` из всех проектов в массиве `projectsData`. Результат отображается в бейдже рядом с заголовком секции "МОИ ПРОЕКТЫ".

**Q: Как работает сортировка проектов?**  
A: Проекты автоматически сортируются по дате (новые сверху) при отображении. Сортировка происходит в функции `filterProjects` в классе `ProjectsFilter` в файле `js/main.js`.

**Q: Как работает пагинация?**  
A: По умолчанию отображается 12 проектов на странице. При нажатии на кнопку "Показать еще" загружается следующая страница из 12 проектов. Пагинация сбрасывается при изменении фильтров.

---

## Готово!

Теперь вы знаете, как добавлять проекты. Просто откройте `js/main.js`, найдите массив `projectsData` и добавьте новый объект проекта по шаблону выше.

